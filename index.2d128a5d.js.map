{"mappings":"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","sources":["src/js/chroma.js","src/js/render-cards.js","src/js/user-modal.js"],"sourcesContent":["const imgContainers = document.querySelectorAll('.cards-home-movie-image');\n\nimgContainers.forEach(imgContainer => {\n  const backgroundColor = window.getComputedStyle(imgContainer).backgroundColor;\n\n  const brightness = chroma(backgroundColor).luminance();\n\n  const textElement = imgContainer.querySelector('.text-element');\n  if (brightness < 0.5) {\n    textElement.style.color = 'black';\n  } else {\n    textElement.style.color = 'white';\n  }\n});\n","const API_KEY = '4688c8e2a1b74736a6eaf922561496b4';\nlet page = 1;\nconst baseUrl = 'https://api.rawg.io/api/';\nconst list = document.querySelector('.main-gallery');\n\nasync function fetchPopularGames(page) {\n  const url = new URL('games', baseUrl);\n  url.searchParams.append('ordering', '-rating');\n  url.searchParams.append('key', API_KEY);\n  url.searchParams.append('page', page);\n\n  try {\n    const res = await fetch(url);\n    const data = await res.json();\n    return data;\n  } catch (error) {\n    console.error('Error fetching popular games:', error);\n  }\n}\n\nasync function fetchGameTrailers(gameId) {\n  const url = new URL(`games/${gameId}/movies`, baseUrl);\n  url.searchParams.append('key', API_KEY);\n\n  try {\n    const response = await fetch(url);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Error fetching game trailers:', error);\n  }\n}\n\nasync function fetchGameById(id) {\n  const url = new URL(`games/${id}`, baseUrl);\n  url.searchParams.append('key', API_KEY);\n\n  try {\n    const res = await fetch(url);\n    const data = await res.json();\n    return data;\n  } catch (error) {\n    console.error(`Error fetching game with id ${id}:`, error);\n  }\n}\n\nasync function fetchGenres() {\n  const url = new URL('https://api.rawg.io/api/genres');\n  url.searchParams.append('key', API_KEY);\n\n  try {\n    const res = await fetch(url);\n    const data = await res.json();\n    return data;\n  } catch (error) {\n    console.error('Error fetching genres:', error);\n  }\n}\n\nasync function renderGames(games) {\n  list.innerHTML = '';\n\n  for (const game of games) {\n    const {\n      id,\n      name,\n      background_image,\n      genres: gameGenres,\n      tags,\n      rating,\n      added,\n      released,\n      parent_platforms,\n    } = game;\n\n    const img = new Image();\n    img.src = background_image;\n\n    img.onload = async function () {\n      if (this.naturalWidth >= this.naturalHeight) {\n        const genreNames = gameGenres.map(genre => genre.name);\n        const tagNames = tags.map(tag => tag.name);\n        const platformNames = parent_platforms\n          .map(parent_platform => parent_platform.platform.name)\n          .slice(0, 2);\n\n        const trailers = await fetchGameTrailers(id);\n        const screenshots = trailers.results.map(trailer => ({\n          image: trailer.data.max,\n        }));\n\n        const listItem = `\n          <li class=\"card-container\" data-id=\"${id}\">\n            <div class=\"first-content-card\" data-id=\"${id}\" data-title=\"${name}\" data-original_title=\"${name}\">\n              <div class=\"img-content\">\n                  <img class=\"cards-home-game-image\" width=\"310\" height=\"170\" src=\"${background_image}\" alt=\"Poster ${name}\" />\n                <div>\n                <div class=\"stats-cards\">\n                <p class=\"cards-home-game-rating\">${rating}</p>\n                <p class=\"cards-home-game-added\">+ ${added}</p>\n                </div>\n                <span class=\"cards-home-game-title\">${name.toUpperCase()}</span>\n                </div>\n              </div>\n            </div>\n            <div class=\"second-content-card\">\n            ${\n              genreNames.length > 0\n                ? `<div class=\"cards-home-game-genres\"><span>Genres:</span> ${genreNames.join(\n                    ', '\n                  )}</div>`\n                : ''\n            }\n            ${\n              released\n                ? `<div class=\"cards-home-game-genres\"><span>Release date:</span> ${released}</div>`\n                : ''\n            }\n            ${\n              platformNames.length > 0\n                ? `<div class=\"cards-home-game-genres\"><span>Platforms:</span> ${platformNames.join(\n                    ', '\n                  )}</div>`\n                : ''\n            }\n              <button class=\"view-details-btn\" data-id=\"${id}\">View Details</button>\n            </div>\n          </li>\n        `;\n\n        list.insertAdjacentHTML('beforeend', listItem);\n\n        document\n          .querySelector(`[data-id=\"${id}\"] .view-details-btn`)\n          .addEventListener('click', async function () {\n            showModal(game);\n          });\n      }\n    };\n  }\n}\n\nfunction showModal(game) {\n  const modalContent = `\n    <div class=\"modal-content\">\n      <span class=\"close\">&times;</span>\n      <h2>${game.name}</h2>\n      <img src=\"${game.background_image}\" width=\"300\" alt=\"Poster ${\n    game.name\n  }\" />\n      <p>Rating: ${game.rating}</p>\n      <p>Genres: ${game.genres.map(genre => genre.name).join(', ')}</p>\n      <p>Tags: ${game.tags.map(tag => tag.name).join(', ')}</p>\n      <p>Added: ${game.added}</p>\n      <div class=\"slider\" id=\"slider-${game.id}\">\n        ${game.short_screenshots\n          .map(\n            screenshot =>\n              `<img src=\"${screenshot.image}\" alt=\"Screenshot\" width=\"300\" />`\n          )\n          .join('')}\n      </div>\n    </div>\n  `;\n\n  document.querySelector('.modal').innerHTML = modalContent;\n  document.querySelector('.modal').style.display = 'block';\n\n  const closeModalButton = document.querySelector('.modal-content .close');\n  closeModalButton.addEventListener('click', closeModal);\n}\n\nfunction closeModal() {\n  document.querySelector('.modal').style.display = 'none';\n}\n\nfetchPopularGames(page)\n  .then(res => res.results)\n  .then(renderGames)\n  .catch(error => console.error('Error fetching popular games:', error));\n","const userModal = document.querySelector('#userModal');\nconst userIcon = document.querySelector('.user-icon');\n\nuserIcon.addEventListener('click', e => {\n  userModal.style.display = 'block';\n});\n\nconst closeButton = userModal.querySelector('.user-modal-close');\ncloseButton.addEventListener('click', e => {\n  userModal.style.display = 'none';\n});\n"],"names":["document","querySelectorAll","forEach","imgContainer","backgroundColor","window","getComputedStyle","brightness","chroma","luminance","textElement","querySelector","style","color","$13315e1086e5db7e$var$list","async","$13315e1086e5db7e$var$fetchGameTrailers","gameId","url","URL","searchParams","append","response","fetch","json","error","console","$13315e1086e5db7e$var$showModal","game","modalContent","name","background_image","rating","genres","map","genre","join","tags","tag","added","id","short_screenshots","screenshot","image","innerHTML","display","addEventListener","$13315e1086e5db7e$var$closeModal","page1","res","$13315e1086e5db7e$var$fetchPopularGames","then","results","games","gameGenres","released","parent_platforms","img","Image","src","onload","this","naturalWidth","naturalHeight","genreNames","platformNames","parent_platform","platform","slice","listItem","trailer","data","max","toUpperCase","length","insertAdjacentHTML","catch","$d133b2eae9e0f1f1$var$userModal","e"],"version":3,"file":"index.2d128a5d.js.map"}