{"mappings":"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","sources":["src/js/chroma.js","src/js/render-cards.js","src/js/pagination.js","src/js/render-side-bar.js","src/js/user-modal.js"],"sourcesContent":["const imgContainers = document.querySelectorAll('.cards-home-movie-image');\n\nimgContainers.forEach(imgContainer => {\n  const backgroundColor = window.getComputedStyle(imgContainer).backgroundColor;\n\n  const brightness = chroma(backgroundColor).luminance();\n\n  const textElement = imgContainer.querySelector('.text-element');\n  if (brightness < 0.5) {\n    textElement.style.color = 'black';\n  } else {\n    textElement.style.color = 'white';\n  }\n});\n","const API_KEY = '4688c8e2a1b74736a6eaf922561496b4';\nexport let page = 1;\nconst baseUrl = 'https://api.rawg.io/api/';\nconst list = document.querySelector('.main-gallery');\n\nexport async function fetchPopularGames(page) {\n  const url = new URL('games', baseUrl);\n  url.searchParams.append('ordering', '-rating');\n  url.searchParams.append('key', API_KEY);\n  url.searchParams.append('page', page);\n\n  try {\n    const res = await fetch(url);\n    const data = await res.json();\n    return data;\n  } catch (error) {\n    console.error('Error fetching popular games:', error);\n  }\n}\n\n// async function fetchGameTrailers(gameId) {\n//   const url = new URL(`games/${gameId}/movies`, baseUrl);\n//   url.searchParams.append('key', API_KEY);\n\n//   try {\n//     const response = await fetch(url);\n//     const data = await response.json();\n//     return data;\n//   } catch (error) {\n//     console.error('Error fetching game trailers:', error);\n//   }\n// }\n\nexport async function fetchGameById(id) {\n  const url = new URL(`games/${id}`, baseUrl);\n  url.searchParams.append('key', API_KEY);\n\n  try {\n    const res = await fetch(url);\n    const data = await res.json();\n    return data;\n  } catch (error) {\n    console.error(`Error fetching game with id ${id}:`, error);\n  }\n}\n\nexport async function fetchGenres() {\n  const url = new URL('https://api.rawg.io/api/genres');\n  url.searchParams.append('key', API_KEY);\n\n  try {\n    const res = await fetch(url);\n    const data = await res.json();\n    return data.results;\n  } catch (error) {\n    console.error('Error fetching genres:', error);\n  }\n}\n\nexport async function renderGames(games) {\n  list.innerHTML = '';\n\n  for (const game of games) {\n    const {\n      id,\n      name,\n      background_image,\n      genres: gameGenres,\n      tags,\n      rating,\n      added,\n      released,\n      parent_platforms,\n      short_screenshots,\n    } = game;\n\n    const containsNSFW = tags.some(tag => tag.name.toLowerCase() === 'nsfw');\n\n    if (containsNSFW) {\n      continue;\n    }\n\n    const img = new Image();\n    img.src = background_image;\n\n    img.onload = async function () {\n      if (this.naturalWidth >= this.naturalHeight) {\n        const genreNames = gameGenres.map(genre => genre.name);\n        const tagNames = tags.map(tag => tag.name);\n        const platformNames = parent_platforms\n          .map(parent_platform => parent_platform.platform.name)\n          .slice(0, 2);\n\n        const listItem = `\n          <li class=\"card-container\" data-id=\"${id}\">\n            <div class=\"first-content-card\" data-id=\"${id}\" data-title=\"${name}\" data-original_title=\"${name}\">\n              <div class=\"img-content\">\n                  <img class=\"cards-home-game-image\" width=\"310\" height=\"170\" src=\"${background_image}\" alt=\"Poster ${name}\" />\n                <div>\n                <div class=\"stats-cards\">\n                <p class=\"cards-home-game-rating\">${rating}</p>\n                <p class=\"cards-home-game-added\">+ ${added}</p>\n                </div>\n                <span class=\"cards-home-game-title\">${name.toUpperCase()}</span>\n                </div>\n              </div>\n            </div>\n            <div class=\"second-content-card\">\n            ${\n              genreNames.length > 0\n                ? `<div class=\"cards-home-game-genres\"><span>Genres:</span> ${genreNames.join(\n                    ', '\n                  )}</div>`\n                : ''\n            }\n            ${\n              released\n                ? `<div class=\"cards-home-game-genres\"><span>Release date:</span> ${released}</div>`\n                : ''\n            }\n            ${\n              platformNames.length > 0\n                ? `<div class=\"cards-home-game-genres\"><span>Platforms:</span> ${platformNames.join(\n                    ', '\n                  )}</div>`\n                : ''\n            }\n              <button class=\"view-details-btn\" data-id=\"${id}\">View Details</button>\n            </div>\n          </li>\n        `;\n\n        list.insertAdjacentHTML('beforeend', listItem);\n\n        document\n          .querySelector(`[data-id=\"${id}\"] .view-details-btn`)\n          .addEventListener('click', async function () {\n            showModal(game);\n          });\n      }\n    };\n  }\n}\n\nfunction showModal(game) {\n  const screenshots = game.short_screenshots.slice(0, 4);\n  const screenshotsHtml = screenshots\n    .map(\n      (screenshot, index) =>\n        `<img src=\"${screenshot.image}\" alt=\"Screenshot ${\n          index + 1\n        }\" width=\"300\" />`\n    )\n    .join('');\n\n  const moreButtonHtml =\n    game.short_screenshots.length > 6\n      ? '<button class=\"view-more-screenshots-btn\">Zobacz wiÄ™cej</button>'\n      : '';\n\n  const modalContent = `\n  <div class=\"modal-content\" style=\"background-image: url(${\n    game.background_image\n  }); background-repeat: no-repeat; background-size: cover;\">\n    <div class=\"gradient-overlay\"></div>\n    <div class=\"follow-us\"><span>Follow us!</span></div>\n    <span class=\"close\">&times;</span>\n    <h2>${game.name}</h2>\n    <div class=\"container-modal-div\">\n      <div class=\"screenshots-modal\">\n        ${screenshotsHtml}\n        ${moreButtonHtml}\n      </div>\n      <div class=\"stats-modal\">\n        <ul class=\"buttons-modal\">\n          <li>\n            <button>\n              Add to <span>Wishlist</span>\n              <span class=\"stat-modal-btn\">${game.added}</span>\n            </button>\n          </li>\n          <li><button>Add to my <span>games</span></button></li>\n        </ul>\n        <div class=\"stats-modal-styles\">\n          <p>Rating: <span>${game.rating}</span></p>\n          <p>Added: <span>${game.added}</span></p>\n        </div>\n        ${\n          game.genres.length > 0\n            ? `\n          <p>Genres: <span>${game.genres\n            .map(genre => genre.name)\n            .join(', ')}</span></p>\n        `\n            : ''\n        }\n        ${\n          game.tags.length > 0\n            ? `\n          <p>Tags: <span>${game.tags.map(tag => tag.name).join(', ')}</span></p>\n        `\n            : ''\n        }\n      </div>\n    </div>\n  </div>\n`;\n\n  document.querySelector('.modal').innerHTML = modalContent;\n  document.querySelector('.modal').style.display = 'block';\n\n  const closeModalButton = document.querySelector('.modal-content .close');\n  closeModalButton.addEventListener('click', closeModal);\n}\n\nfunction closeModal() {\n  document.querySelector('.modal').style.display = 'none';\n}\n\ndocument.addEventListener('keydown', function (event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n});\n\nfetchPopularGames(page)\n  .then(res => res.results)\n  .then(renderGames)\n  .catch(error => console.error('Error fetching popular games:', error));\n","import { fetchPopularGames, renderGames } from './render-cards';\nconst loadMoreBtn = document.querySelector('.load-more-button');\n\nlet page = 1;\n\nlet perPage = 40;\n\nconst prevPageBtn = document.querySelector('.prev-page-button');\nconst nextPageBtn = document.querySelector('.next-page-button');\n\nprevPageBtn.addEventListener('click', async () => {\n  if (page > 1) {\n    try {\n      const data = await fetchPopularGames(page - 1);\n      renderGames(data.results);\n      page--;\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    } catch (error) {\n      console.error('Error fetching and rendering games:', error);\n    }\n  }\n});\n\nnextPageBtn.addEventListener('click', async () => {\n  try {\n    const data = await fetchPopularGames(page + 1);\n    renderGames(data.results);\n    page++;\n\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  } catch (error) {\n    console.error('Error fetching and rendering games:', error);\n  }\n});\n","import { fetchGenres } from './render-cards';\n\nexport async function generateGenresOptions() {\n  const genres = await fetchGenres();\n\n  const selectHtml = document.querySelector('#genre-list');\n\n  genres.forEach(genre => {\n    const listItem = document.createElement('li');\n    const spanItem = document.createElement('span');\n    listItem.dataset.value = genre.id;\n    spanItem.textContent = genre.name;\n    selectHtml.appendChild(listItem);\n    listItem.appendChild(spanItem);\n  });\n}\n\ngenerateGenresOptions();\n","const userModal = document.querySelector('#userModal');\nconst userIcon = document.querySelector('.user-icon');\n\nuserIcon.addEventListener('click', e => {\n  userModal.style.display = 'block';\n});\n\nconst closeButton = userModal.querySelector('.user-modal-close');\ncloseButton.addEventListener('click', e => {\n  userModal.style.display = 'none';\n});\n"],"names":["document","querySelectorAll","forEach","imgContainer","backgroundColor","window","getComputedStyle","brightness","chroma","luminance","textElement","querySelector","style","color","$13315e1086e5db7e$var$list","async","$13315e1086e5db7e$export$fe34e5329917afe0","page1","url","URL","searchParams","append","res","fetch","json","error","console","$13315e1086e5db7e$export$e95d448b93b2cdb","results","$13315e1086e5db7e$export$25da8ce31e40c410","games","innerHTML","game","id","name","background_image","genres","gameGenres","tags","rating","added","released","parent_platforms","short_screenshots","some","tag","toLowerCase","img","Image","src","onload","this","naturalWidth","naturalHeight","genreNames","map","genre","platformNames","parent_platform","platform","slice","listItem","toUpperCase","length","join","insertAdjacentHTML","addEventListener","$13315e1086e5db7e$var$showModal","screenshotsHtml","screenshot","index","image","moreButtonHtml","modalContent","display","$13315e1086e5db7e$var$closeModal","event","key","then","catch","$1bab9c519cfa82bc$var$page","$1bab9c519cfa82bc$var$prevPageBtn","$1bab9c519cfa82bc$var$nextPageBtn","scrollTo","top","behavior","selectHtml","createElement","spanItem","dataset","value","textContent","appendChild","$e4566f19bf169829$export$ace33ce3886fde00","$d133b2eae9e0f1f1$var$userModal","e"],"version":3,"file":"index.af654efe.js.map"}