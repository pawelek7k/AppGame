{"mappings":"AAAsBA,SAASC,iBAAiB,2BAElCC,SAAQC,IACpB,MAAMC,EAAkBC,OAAOC,iBAAiBH,GAAcC,gBAExDG,EAAaC,OAAOJ,GAAiBK,YAErCC,EAAcP,EAAaQ,cAAc,iBAE7CD,EAAYE,MAAMC,MADhBN,EAAa,GACW,QAEA,OAAO,ICXrC,MAEMO,EAAOd,SAASW,cAAc,kBA8BpCI,iBACE,MAAMC,QA7BRD,eAAiCE,GAC/B,MAAMC,EAAM,IAAIC,IAAI,QAJN,4BAKdD,EAAIE,aAAaC,OAAO,WAAY,WACpCH,EAAIE,aAAaC,OAAO,MAPV,oCAQdH,EAAIE,aAAaC,OAAO,OAAQJ,GAEhC,IACE,MAAMK,QAAYC,MAAML,GAExB,aADmBI,EAAIE,M,CAEvB,MAAOC,GACPC,QAAQD,MAAM,gCAAiCA,E,EAkBtBE,CAAkB,SAd/CZ,iBACE,MAAMG,EAAM,IAAIC,IAAI,kCACpBD,EAAIE,aAAaC,OAAO,MArBV,oCAuBd,IACE,MAAMC,QAAYC,MAAML,GAExB,aADmBI,EAAIE,M,CAEvB,MAAOC,GACPC,QAAQD,MAAM,yBAA0BA,E,EAMrBG,GAErBd,EAAKe,UAAY,GAEjBb,EAAac,QAAQ5B,SAAQa,MAAMgB,IACjC,MAAMC,GACJA,EAAEC,KACFA,EAAIC,iBACJA,EACAC,OAAQC,EAAUC,KAClBA,EAAIC,OACJA,EAAMC,MACNA,GACER,EAEES,EAAM,IAAIC,MAChBD,EAAIE,IAAMR,EACVR,QAAQiB,IAAIZ,GAEZS,EAAII,OAAS,WACX,GACEC,KAAKC,cAAgBD,KAAKE,eAC1BC,KAAKC,IAAIJ,KAAKC,aAAeD,KAAKE,eAAiB,GACnD,CACA,MAAMG,EAAad,EAAWe,KAAIC,GAASA,EAAMnB,OAC3CoB,EAAWhB,EAAKc,KAAIG,GAAOA,EAAIrB,OAE/BsB,EAAW,yCACavB,uDACWA,kBAAmBC,2BAA8BA,kHAEvBC,kBAAiCD,sGAGhEK,qDACCC,sEAECN,EAAKuB,8JAMCN,EAAWO,KAAK,4DACpBJ,EAASI,KAAK,qCAMtD3C,EAAK4C,mBAAmB,YAAaH,E,EAExC,G,CAILI","sources":["src/js/chroma.js","src/js/render-cards.js"],"sourcesContent":["const imgContainers = document.querySelectorAll('.cards-home-movie-image');\n\nimgContainers.forEach(imgContainer => {\n  const backgroundColor = window.getComputedStyle(imgContainer).backgroundColor;\n\n  const brightness = chroma(backgroundColor).luminance();\n\n  const textElement = imgContainer.querySelector('.text-element');\n  if (brightness < 0.5) {\n    textElement.style.color = 'black';\n  } else {\n    textElement.style.color = 'white';\n  }\n});\n","const API_KEY = '4688c8e2a1b74736a6eaf922561496b4';\nconst baseUrl = 'https://api.rawg.io/api/';\nconst list = document.querySelector('.main-gallery');\n\nasync function fetchPopularGames(page) {\n  const url = new URL('games', baseUrl);\n  url.searchParams.append('ordering', '-rating');\n  url.searchParams.append('key', API_KEY);\n  url.searchParams.append('page', page);\n\n  try {\n    const res = await fetch(url);\n    const data = await res.json();\n    return data;\n  } catch (error) {\n    console.error('Error fetching popular games:', error);\n  }\n}\n\nasync function fetchGenres() {\n  const url = new URL('https://api.rawg.io/api/genres');\n  url.searchParams.append('key', API_KEY);\n\n  try {\n    const res = await fetch(url);\n    const data = await res.json();\n    return data;\n  } catch (error) {\n    console.error('Error fetching genres:', error);\n  }\n}\n\nasync function renderGames() {\n  const popularGames = await fetchPopularGames(1);\n  const genres = await fetchGenres();\n\n  list.innerHTML = '';\n\n  popularGames.results.forEach(async game => {\n    const {\n      id,\n      name,\n      background_image,\n      genres: gameGenres,\n      tags,\n      rating,\n      added,\n    } = game;\n\n    const img = new Image();\n    img.src = background_image;\n    console.log(game);\n\n    img.onload = function () {\n      if (\n        this.naturalWidth >= this.naturalHeight ||\n        Math.abs(this.naturalWidth - this.naturalHeight) < 50\n      ) {\n        const genreNames = gameGenres.map(genre => genre.name);\n        const tagNames = tags.map(tag => tag.name);\n\n        const listItem = `\n<li class=\"card-container\" data-id=\"${id}\">\n      <div class=\"first-content-card\" data-id=\"${id}\" data-title=\"${name}\" data-original_title=\"${name}\">\n      <div class=\"img-content\">\n        <img class=\"cards-home-game-image\" width=\"310\" height=\"170\" src=\"${background_image}\" alt=\"Poster ${name}\" />\n        <div>\n        <div class=\"stats-cards\">\n        <p class=\"cards-home-game-rating\">${rating}</p>\n        <p class=\"cards-home-game-added\">+ ${added}</p>\n        </div>\n        <span class=\"cards-home-game-title\">${name.toUpperCase()}</span>\n\n        </div>\n      </div>\n  </div>\n      <div class=\"second-content-card\">\n        <p class=\"cards-home-game-genres\">Genres: ${genreNames.join(', ')}</p>\n        <p class=\"cards-home-game-tags\">Tags: ${tagNames.join(', ')}</p>\n\n      </div>\n</li>\n`;\n\n        list.insertAdjacentHTML('beforeend', listItem);\n      }\n    };\n  });\n}\n\nrenderGames();\n"],"names":["document","querySelectorAll","forEach","imgContainer","backgroundColor","window","getComputedStyle","brightness","chroma","luminance","textElement","querySelector","style","color","$13315e1086e5db7e$var$list","async","popularGames","page","url","URL","searchParams","append","res","fetch","json","error","console","$13315e1086e5db7e$var$fetchPopularGames","$13315e1086e5db7e$var$fetchGenres","innerHTML","results","game","id","name","background_image","genres","gameGenres","tags","rating","added","img","Image","src","log","onload","this","naturalWidth","naturalHeight","Math","abs","genreNames","map","genre","tagNames","tag","listItem","toUpperCase","join","insertAdjacentHTML","$13315e1086e5db7e$var$renderGames"],"version":3,"file":"index.71a3edd1.js.map"}