{"mappings":"AAAsBA,SAASC,iBAAiB,2BAElCC,SAAQC,IACpB,MAAMC,EAAkBC,OAAOC,iBAAiBH,GAAcC,gBAExDG,EAAaC,OAAOJ,GAAiBK,YAErCC,EAAcP,EAAaQ,cAAc,iBAE7CD,EAAYE,MAAMC,MADhBN,EAAa,GACW,QAEA,OAAO,ICXrC,MAEMO,EAAOd,SAASW,cAAc,kBA8BpCI,iBACE,MAAMC,QA7BRD,eAAiCE,GAC/B,MAAMC,EAAM,IAAIC,IAAI,QAJN,4BAKdD,EAAIE,aAAaC,OAAO,WAAY,WACpCH,EAAIE,aAAaC,OAAO,MAPV,oCAQdH,EAAIE,aAAaC,OAAO,OAAQJ,GAEhC,IACE,MAAMK,QAAYC,MAAML,GAExB,aADmBI,EAAIE,M,CAEvB,MAAOC,GACPC,QAAQD,MAAM,gCAAiCA,E,EAkBtBE,CAAkB,SAd/CZ,iBACE,MAAMG,EAAM,IAAIC,IAAI,kCACpBD,EAAIE,aAAaC,OAAO,MArBV,oCAuBd,IACE,MAAMC,QAAYC,MAAML,GAExB,aADmBI,EAAIE,M,CAEvB,MAAOC,GACPC,QAAQD,MAAM,yBAA0BA,E,EAMrBG,GAErBd,EAAKe,UAAY,GAEjBb,EAAac,QAAQ5B,SAAQa,MAAMgB,IACjC,MAAMC,GAAEA,EAAEC,KAAEA,EAAIC,iBAAEA,EAAkBC,OAAQC,EAAUC,KAAEA,GAASN,EAE3DO,EAAM,IAAIC,MAChBD,EAAIE,IAAMN,EAEVI,EAAIG,OAAS,WACX,GAAIC,KAAKC,cAAgBD,KAAKE,cAAe,CAC3C,MAAMC,EAAaT,EAAWU,KAAIC,GAASA,EAAMd,OAC3Ce,EAAWX,EAAKS,KAAIG,GAAOA,EAAIhB,OAE/BiB,EAAW,yCACalB,+EAEaA,2DACEA,kBAAmBC,2BAA8BA,4GAEvCC,kBAAiCD,kGAGjDA,EAAKkB,uEACLlB,EAAKkB,qEACPN,mDACFG,EAASI,KAAK,uDAOjDtC,EAAKuC,mBAAmB,YAAaH,E,EAExC,G,CAILI","sources":["src/js/chroma.js","src/js/render-cards.js"],"sourcesContent":["const imgContainers = document.querySelectorAll('.cards-home-movie-image');\n\nimgContainers.forEach(imgContainer => {\n  const backgroundColor = window.getComputedStyle(imgContainer).backgroundColor;\n\n  const brightness = chroma(backgroundColor).luminance();\n\n  const textElement = imgContainer.querySelector('.text-element');\n  if (brightness < 0.5) {\n    textElement.style.color = 'black';\n  } else {\n    textElement.style.color = 'white';\n  }\n});\n","const API_KEY = '4688c8e2a1b74736a6eaf922561496b4';\nconst baseUrl = 'https://api.rawg.io/api/';\nconst list = document.querySelector('.main-gallery');\n\nasync function fetchPopularGames(page) {\n  const url = new URL('games', baseUrl);\n  url.searchParams.append('ordering', '-rating');\n  url.searchParams.append('key', API_KEY);\n  url.searchParams.append('page', page);\n\n  try {\n    const res = await fetch(url);\n    const data = await res.json();\n    return data;\n  } catch (error) {\n    console.error('Error fetching popular games:', error);\n  }\n}\n\nasync function fetchGenres() {\n  const url = new URL('https://api.rawg.io/api/genres');\n  url.searchParams.append('key', API_KEY);\n\n  try {\n    const res = await fetch(url);\n    const data = await res.json();\n    return data;\n  } catch (error) {\n    console.error('Error fetching genres:', error);\n  }\n}\n\nasync function renderGames() {\n  const popularGames = await fetchPopularGames(1);\n  const genres = await fetchGenres();\n\n  list.innerHTML = '';\n\n  popularGames.results.forEach(async game => {\n    const { id, name, background_image, genres: gameGenres, tags } = game;\n\n    const img = new Image();\n    img.src = background_image;\n\n    img.onload = function () {\n      if (this.naturalWidth >= this.naturalHeight) {\n        const genreNames = gameGenres.map(genre => genre.name);\n        const tagNames = tags.map(tag => tag.name);\n\n        const listItem = `\n<li class=\"card-container\" data-id=\"${id}\">\n  <div class=\"card\">\n    <a href=\"\" class=\"cards-home-movie-link\" id=\"${id}\">\n      <div class=\"cards-home-movie-photo\" data-id=\"${id}\" data-title=\"${name}\" data-original_title=\"${name}\"></div>\n      <div class=\"img-content\">\n        <img class=\"cards-home-movie-image\" width=\"350\" src=\"${background_image}\" alt=\"Poster ${name}\" />\n      </div>\n      <div class=\"content\">\n        <p class=\"cards-home-movie-title\"><b>${name.toUpperCase()}</b></p>\n        <p class=\"cards-home-movie-title\"><b>${name.toUpperCase()}</b></p>\n        <p class=\"cards-home-movie-genres\">${genreNames}</p>\n        <p class=\"cards-home-movie-tags\">${tagNames.join(', ')}</p>\n      </div>\n    </a>\n  </div>\n</li>\n`;\n\n        list.insertAdjacentHTML('beforeend', listItem);\n      }\n    };\n  });\n}\n\nrenderGames();\n"],"names":["document","querySelectorAll","forEach","imgContainer","backgroundColor","window","getComputedStyle","brightness","chroma","luminance","textElement","querySelector","style","color","$13315e1086e5db7e$var$list","async","popularGames","page","url","URL","searchParams","append","res","fetch","json","error","console","$13315e1086e5db7e$var$fetchPopularGames","$13315e1086e5db7e$var$fetchGenres","innerHTML","results","game","id","name","background_image","genres","gameGenres","tags","img","Image","src","onload","this","naturalWidth","naturalHeight","genreNames","map","genre","tagNames","tag","listItem","toUpperCase","join","insertAdjacentHTML","$13315e1086e5db7e$var$renderGames"],"version":3,"file":"index.f048317b.js.map"}